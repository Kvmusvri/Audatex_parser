#!/bin/bash

echo "üê≥ –ó–∞–ø—É—Å–∫ Linux-–æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É docker
cd docker

# –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞
echo "üì¶ –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞..."
docker-compose build

# –ó–∞–ø—É—Å–∫ Redis
echo "üî¥ –ó–∞–ø—É—Å–∫ Redis..."
docker-compose up -d redis

# –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ Redis
echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ Redis..."
sleep 5

# –ó–∞–ø—É—Å–∫ Linux-–æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
echo "üöÄ –ó–∞–ø—É—Å–∫ Linux-–æ–∫—Ä—É–∂–µ–Ω–∏—è..."
echo ""
echo "üí° –¢–µ–ø–µ—Ä—å –≤—ã –≤ Linux-–æ–∫—Ä—É–∂–µ–Ω–∏–∏. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:"
echo "   - python3 main.py          # –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
echo "   - python3 -c \"import sys; print(sys.platform)\"  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"
echo "   - exit                      # –í—ã—Ö–æ–¥ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"
echo ""
docker-compose run --rm app bash

echo "‚úÖ Linux-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ" 